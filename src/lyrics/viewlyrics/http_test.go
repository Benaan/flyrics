package viewlyrics

import (
	"reflect"
	"testing"

	"github.com/benaan/flyrics/src/model"
)

func TestCreateRequest(t *testing.T) {
	song := &model.Song{Artist: "artist", Title: "title"}
	request := createRequest(song)
	expected := []byte{2, 0, 4, 0, 0, 0, 142, 81, 255, 249, 160, 146, 142, 203, 88, 115, 207, 239, 56, 31, 160, 192, 60, 63, 120, 109, 108, 32, 118, 101, 114, 115, 105, 111, 110, 61, 39, 49, 46, 48, 39, 32, 101, 110, 99, 111, 100, 105, 110, 103, 61, 39, 117, 116, 102, 45, 56, 39, 32, 63, 62, 60, 115, 101, 97, 114, 99, 104, 86, 49, 32, 97, 114, 116, 105, 115, 116, 61, 34, 97, 114, 116, 105, 115, 116, 34, 32, 116, 105, 116, 108, 101, 61, 34, 116, 105, 116, 108, 101, 34, 32, 99, 108, 105, 101, 110, 116, 61, 34, 77, 105, 110, 105, 76, 121, 114, 105, 99, 115, 34, 32, 79, 110, 108, 121, 77, 97, 116, 99, 104, 101, 100, 61, 34, 49, 34, 32, 82, 101, 113, 117, 101, 115, 116, 80, 97, 103, 101, 61, 39, 48, 39, 32, 47, 62}

	if !reflect.DeepEqual(expected, request) {
		t.Error("Didn't create the a proper request")
	}
}
